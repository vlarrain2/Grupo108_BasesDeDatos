\q
\c grupo108e2
CREATE TABLE atraques(fecha_atraque SMALLDATETIME, fecha_salida, SMALLDATETIME,bid INT,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
CREATE TABLE atraques(fecha_atraque SMALLDATETIME, fecha_salida SMALLDATETIME,bid INT,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
CREATE TABLE atraques(fecha_atraque SmallDateTime, fecha_salida SmallDateTime,bid INT,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));

CREATE TABLE atraques(fecha_atraque SmallDateTime, fecha_salida SmallDateTime,bid INT,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
\h
CREATE TABLE atraques(fecha_atraque SmallDateTime, fecha_salida SmallDateTime,bid INT,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
CREATE TABLE atraques(fecha_atraque DATETIME, fecha_salida DATETIME,bid INT,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
CREATE TABLE atraques(fecha_atraque DATE, fecha_salida DATE,bid INT,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
\dt
\?
\COPY atraques from 'atraques.csv' DELIMITER ',' CSV HEADER;
DROP TABLE atraques
\dt
\?
\h
DROP TABLE atraques;
DROP TABLE atraques;
\dt
SELECT * FROM navieras;
DROP TABLE navieras;
CREATE TABLE navieras(nid INT,nombre VARCHAR(255),pais VARCHAR(255),giro VARCHAR(255));
ALTER TABLE navierasADD COLUMN fila INT;
\dt
SELECT * FROM navieras;
\COPY atraques(fila,nombre,pais,giro) from 'atraques.csv' DELIMITER ',' CSV HEADER;
\COPY navieras(fila,nombre,pais,giro) from 'atraques.csv' DELIMITER ',' CSV HEADER;
\COPY navieras(fila,nombre,pais,giro) from 'navieras.csv' DELIMITER ',' CSV HEADER;
SELECT * FROM navieras WHERE giro LIKE 'carga';
SELECT * FROM navieras;
ALTER TABLAALTER TABLE navierasDELETE COLUMN nid,fila;
ALTER TABLAALTER TABLE navierasDELETE COLUMN nid;
;
ALTER TABLE navierasDELETE COLUMN nid;
;
;
;
SELECT * FROM navieras;
ALTER TABLE navierasDELETE COLUMN nid;
DROP TABLE nid,fila;
DROP COLUMN nid;
ALTER TABLE navierasDROP COLUMN nid;
ALTER TABLE navierasDROP COLUMN fila;
SELECT * FROM navieras;
CREATE TABLE buques;
CREATE TABLE buques(bid INT,nombre VARCHAR(255),patente VARCHAR(255),capitan VARCHAR(255),nro_personas INT,pais VARCHAR(255), PRIMARY KEY (bid))
\dt
CREATE TABLE buques(bid INT,nombre VARCHAR(255),patente VARCHAR(255),capitan VARCHAR(255),nro_personas INT,pais VARCHAR(255), PRIMARY KEY (bid));
CREATE TABLE buques(bid INT,nombre VARCHAR(255),patente VARCHAR(255),capitan VARCHAR(255),nro_personas INT,pais VARCHAR(255), PRIMARY KEY (bid));
\dt
ALTER TABLE buquesADD COLUMN fila;
ALTER TABLE buquesADD fila INT;
\COPY buques(fila,nombre,patente,pais,capitan) from 'buques.csv' DELIMETER ',' CSV HEADER;
\COPY buques(fila,nombre,patente,pais,capitan) from 'buques.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE buquesMODIFY capitan INT;
ALTER TABLE buquesMODIFY capitan INT;
ALTER TABLE buquesMODIFY COLUMN capitan INT;
;
ALTER TABLE buquesMODIFY COLUMN capitan INT;
SELECT * FROM navieras;
ALTER TABLE buquesMODIFY COLUMN capitan INT;
ALTER TABLE buquesDROP COLUMN capitan;
ALTER TABLE buquesADD capitan INT;
\COPY buques(fila,nombre,patente,pais,capitan) from 'buques.csv' DELIMITER ',' CSV HEADER;
\COPY buques(fila,bid,nombre,patente,pais,capitan) from 'buques.csv' DELIMITER ',' CSV HEADER;
SELECT * FROM buques;
SELECT * FROM buques WHERE bid = 0;
ALTER TABLE buquesDROP COLUMN fila;
SELECT * FROM buques WHERE bid = 0;
CREATE TABLE buquespesca(bid INT,tipo_pesca VARCHAR(255), PRIMARY KEY (bid));
\dt
ALTER TABLE buquespescaADD fila INT;
\COPY buquespesca(fila,bid,tipo_pesca) from 'buques_pesca.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE buquespescaDROP COLUMN fila;
SELECT * FROM buquespesca WHERE bid = 0;
CREATE TABLE buquescarga(bid INT,nro_containers VARCHAR(255),nro_toneladas VARCHAR(255), PRIMARY KEY (bid));
ALTER TABLE buquescarga ADD fila INT;
\COPY buquescarga(fila,bid,nro_containers,nro_toneladas) from 'buques_carga.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE buquescarga DROP COLUMN fila;
SELECT * FROM buquescarga WHERE bid = 0;
SELECT * FROM buquescarga WHERE bid = 4;
DROP TABLE buquescarga;
CREATE TABLE buquescarga(fila INT,bid INT,nro_containers INT,nro_toneladas INT, PRIMARY KEY (bid));
\COPY buquescarga FROM 'buques_carga.csv' DELIMITER ',' CSV HEADER;
DROP TABLE buquescarga;
CREATE TABLE buquescarga(fila INT,bid INT,nro_containers FLOAT,nro_toneladas FLOAT , PRIMARY KEY (bid));
\COPY buquescarga FROM 'buques_carga.csv' DELIMITER ',' CSV HEADER;
SELECT * FROM buquescarga;
ALTER TABLE buquescargaDROP COLUMN fila;
CREATE TABLE buquespetroleo(fila INT,bid INT,cantidad_litros INT , PRIMARY KEY (bid));
\COPY buquepetroleo FROM 'buques_petroleo.csv' DELIMITER ',' CSV HEADER;
\COPY buquepetroleo FROM 'buques_petrolero.csv' DELIMITER ',' CSV HEADER;
\COPY buquespetroleo FROM 'buques_petrolero.csv' DELIMITER ',' CSV HEADER;
DROP TABLE buquespetroleo;
CREATE TABLE buquespetroleo(fila INT,bid INT,cantidad_litros FLOAT , PRIMARY KEY (bid));
\COPY buquespetroleo FROM 'buques_petrolero.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE buquespetroleoDROP COLUMN fila;
SELECT * FROM buquespetroleo;
ALTER TABLE buquespetroleoRENAME TO buquespetrolero;
\dt
CREATE TABLE personal(fila, pid INT,bid INT,nombre VARCHAR(255),edad INT,genero VARCHAR(255),nacionalidad VARCHAR(255),nro_pasaporte VARCHAR(255),PRIMARY KEY (pid));
CREATE TABLE personal(fila INT, pid INT,bid INT,nombre VARCHAR(255),edad INT,genero VARCHAR(255),nacionalidad VARCHAR(255),nro_pasaporte VARCHAR(255),PRIMARY KEY (pid));
\COPY personal(fila,pid,nombre,nacionalidad,nro_pasaporte,edad,genero,bid) FROM 'personal.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE personalDROP COLUMN fila;
CREATE TABLE atraques;
CREATE TABLE atraques(bid INT,fecha_atraque TIMESTAMP,fecha_salida TIMESTAMP,puerto VARCHAR(255));
\COPY atraques(fecha_atraque, fecha_salida, bid, puerto) from 'atraques.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE atraquesADD fila INT;
\COPY atraques(fila,fecha_atraque, fecha_salida, bid, puerto) from 'atraques.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE atraquesDROP COLUMN fila;
DROP TABLE atraques;
CREATE TABLE atraques(fila, INT,bid INT,fecha_atraque TIMESTAMP,fecha_salida TIMESTAMP,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
CREATE TABLE atraques(fila INT,bid INT,fecha_atraque TIMESTAMP,fecha_salida TIMESTAMP,puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
\COPY atraques(fila,fecha_atraque, fecha_salida, bid, puerto) from 'atraques.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE atraquesDROP COLUMN fila;
CREATE TABLE proximo_itinerario(fila INT,bid INT,fecha_atraque TIMESTAMP,proximo_puerto VARCHAR(255),PRIMARY KEY(bid,fecha_atraque));
\COPY proximo_itinerario(fila,fecha_atraque, bid, puerto) from 'proximo_itinerario.csv' DELIMITER ',' CSV HEADER;
\COPY proximo_itinerario(fila,fecha_atraque, bid, proximo_puerto) from 'proximo_itinerario.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE proximo_itinerario DROP COLUMN fila;
CREATE TABLE tiene(fila INT,bid INT, nombre_naviera VARCHAR(255),PRIMARY KEY (bid));
\COPY tiene FROM 'tiene.csv' DELIMITER ',' CSV HEADER;
ALTER TABLE tieneDROP COLUMN fila;
\dt
\q
